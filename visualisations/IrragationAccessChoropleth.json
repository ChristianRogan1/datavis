{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "width": 600,
  "height": 450,
  "title": "Irrigation Access in Australia ",
  "projection": {"type": "mercator"},
  "data": {
        "url": "https://raw.githubusercontent.com/ChristianRogan1/datavis/refs/heads/master/data/climate_change_impact_on_agriculture_2024.csv",
        "format": {"type": "csv"}
      },
  "transform": [
  {
    "lookup": "Region",
    "from": {
      "data": {"url": "https://raw.githubusercontent.com/ChristianRogan1/datavis/refs/heads/master/data/ne_50m_admin_1_states_provinces.json", "format": {"type": "topojson", "feature": "ne_50m_admin_1_states_provinces"}},
      "key": "properties.name"},
      "as": "geo"
  },
  {"filter": "datum.Year == selected_Year"}
  ],
  "params": [
    {
      "name": "selected_Year",
      "value": 2024,
      "bind":{
        "input": "range",
        "min": 1990,
        "max": 2024,
        "step": 1,
        "name": "Year"
      }
    }
  ],
  "layer": [
    {"mark": {"type": "geoshape", "fill": "black"}},

    {"mark": {"type": "geoshape", "stroke": "black", "strokeWidth": 0.5},
    "encoding": {
    "shape": {"field": "geo", "type": "geojson"},
    "color": {
      "title": "Irrigation Access Percentage",
      "field": "Irrigation_Access",
      "type": "quantitative",
      "scale": {
        "type": "linear",
        "domain": [0,1, 100], 
        "range": ["lightgrey","lightblue", "darkblue"]
        }
    },
    "tooltip": [
      {"field": "Region", "title": "State:"},
      {"field": "Irrigation_Access", "title": "Irrigation access percentage:" }
      ]
    }
  }
]
}




