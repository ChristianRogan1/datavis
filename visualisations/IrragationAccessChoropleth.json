{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "width": 800,
    "height": 450,
    "title": "Irrigation access and extreme weather events in Australia ",
    "projection": {"type": "mercator"},
    "data": {"url": "https://raw.githubusercontent.com/ChristianRogan1/datavis/refs/heads/master/data/ne_50m_admin_1_states_provinces.json", "format": {"type": "topojson", "feature": "ne_50m_admin_1_states_provinces"}},
    "params": [
      {
        "name": "selected_Year",
        "value": 2024,
        "bind":{
          "input": "range",
          "min": 1990,
          "max": 2024,
          "step": 1,
          "name": "Year"
        }
      }
    ],
    "transform": [
    {
      "lookup": "properties.name",
      "from": {
        "data": {
          "url": "https://raw.githubusercontent.com/ChristianRogan1/datavis/refs/heads/master/data/climate_change_impact_on_agriculture_2024.csv",
          "format": {"type": "csv"}
        },
        "key": "Region",
        "fields": ["Irrigation_Access"]}
    }
      ],
    "layer": [{
          "mark": {"type": "geoshape", "fill": "lightgrey", "stroke": "black", "strokeWidth": 0.5},
          "encoding": {
            "tooltip": [{"field": "properties.name", "title": "State:"},
            {"field": "Irrigation_Access", "title": "Irrigation Access"}]
          }
          
        },
    {"mark": {"type": "geoshape", "stroke": "black", "strokeWidth": 0.5},
    "encoding": {
      "color": {
        "field": "Irrigation_Access",
        "type": "quantitative",
        "scale": {
          "type": "linear",
          "domain": [0, 100], 
          "range": ["lightblue", "darkblue"]
          }
        
      },
      "tooltip": [
        {"field": "properties.name", "title": "State:"},
        {"field": "Irrigation_Access", "title": "Irrigation access percentage:" }
      ]}
  }]
  }
  
  
  
  